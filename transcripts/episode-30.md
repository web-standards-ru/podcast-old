# Выпуск №30

22 августа 2016: Старьё, мысли про React, SMIL пока можно, скрывать по-новому, Народ.ру на Гитхабе, сайт на 10 КБ, интернет в отпуске.

- Ольга Алексашенко
- Вадим Макеев
- Алексей Симоненко

**Вадим.** Привет, с вами 30-й выпуск подкаста «Веб-стандарты» и его постоянные ведущие: Алексей Симоненко из HTML Academy. Ольга Алексашенко, верстальщик руками из «Exante».

**Ольга.** И Вадим Макеев из Opera.

**Вадим.** Мы записываемся из [Скалеи](https://ru.wikipedia.org/wiki/%D0%A1%D0%BA%D0%B0%D0%BB%D0%B5%D1%8F), это Италия, Лёша всё ещё в Питере, в общем, у нас вот такой вот отпуск. Поэтому, если вы услышите, не знаю, гудящие Фиаты, смеющихся детей или лающих собак, это нормально, у нас здесь отпуск и надеюсь, что вы тоже отдыхаете.

## События (00:29)

**Вадим.** Немного о событиях. 26 августа, видимо в честь моего дня рождения, [FrontendFellows №8]](https://frontendfellows.timepad.ru/event/357305/) пройдёт в Ижевске. Так что приезжайте в Ижевск, если вы поблизости, и я смотрю, FrontendFellows отпусков не берёт и продолжает все свои встречи даже летом.

Уже через неделю будет [Frontend Union в Вильнюсе](http://frontend-union.co/), так что увидите нас с Лёшей. Приходите здороваться и, собственно, 31-й выпуск будем записывать уже там.

Ну и напоминаю, что мы собираем заявки на доклады для [WSD в Питере 1 октября в ИТМО](https://wsd.events/2016/10/01/) и на [WSD в Минске 29 октября в Space](https://wsd.events/2016/10/29/). Нам уже пришло несколько заявок и туда и сюда, мы на следующей неделе начнём отвечать, общаться с докладчиками, и ещё раз предлагаем вам прислать свои заявки, потому что, даже если это идея, потому, что это правда хорошая площадка, чтобы начать. Так что смелее, ещё отправим рассылку, чтобы вы точно знали, что мы вас ждём с докладами, и просто приходите слушайте конференцию.

И тут ещё HolyJS, которая пройдёт 11 декабря в Москве. Они написали [свежий промо-пост](https://habrahabr.ru/company/jugru/blog/307972/), в котором рассказали про докладчиков: там из самых интересных докладчиков — Аксель Раушмайер — такой крутейший спикер по JavaScript, он там прочтёт киноут. Так что, хотя бы ради Акселя стоит прийти. Ещё забавно, они озвучили цены: там, если вот прямо сейчас купить билеты, вы заплатите четыре тысячи, но останетесь без обеда, а если заплатите шесть тысяч, то тогда вас накормят обедом, а если вы заплатите двенадцать тысяч, то, наверное, вас пустят в джакузи с докладчиками, или что-то там такое, типа ужин, бэкстейдж и всё такое. А если вы будете тупить, то это, в общем-то, будет десять тысяч, двенадцать тысяч, а то и двадцать четыре тысячи. Поэтому, если вы и правда собрались на конференцию, видимо время покупать билеты.

## Зачем чинить старьё (02:24)

**Лёша.** На этой неделе, как и в течении последних месяцев, каждые две недели выходит [новый релиз Safari Technology Preview, на этот раз 11-й](https://webkit.org/blog/6883/release-notes-for-safari-technology-preview-release-11/). В этот раз они продолжили шлифовать свой браузер, много там, опять же, всякого пофиксили: ничего такого сильно глобального, но шлифуют. Мне вот интересно стала другая штука: так как совсем скоро выходит новая OC для Mac, в которой будет Safari 10. Тут всё больше и больше появляется различий между Safari 10 и Safari Technology Preview. И ребята из команды Apple как раз на этой неделе высказались, что, да, Safari Technology Preview, он немножко про будущее, он немножко идёт вперёд. Поэтому, это нормально, если вы видите какие-то технологии, например, те же самые гриды, включенные в Safari Technology Preview и не увидите их в 10-й версии Safari. Пока не очень понятно, как у них выстроен этот процесс. В Chrome, например, понятно: у нас идёт Canary, потом идёт бета, потом идёт релиз. И всё понятно, кто куда перетекает. У ребят из Apple пока не очень понятно, кто во что перетекает, но тем не менее есть Safari Technology Preview, в которой можно посмотреть, над чем в Apple работают.

**Вадим.** В прошлом релизе у них была батарея похожих изменений по поводу каких-то Web API, в этом выпуске то же самое. Они большой выпуск всяких методов и функций, сделали чистку в них, и сделали параметры обязательными, по спецификации. Кстати, не знаю, как с этим в других браузерах, но вот целая батарея изменений типа «сделать этот параметр обязательным», «сделать этот параметр обязательным», в куче-куче методов, там типа `setTimeout()`, `window.postMassage()`, `execCommand()`, и в общем, многих других. Ну, вот такая вот фоновая постоянная работа с браузерами, и довольно интересно за ней наблюдать в ченджлогах. Потому что раньше об этом не было ни видно, ни слышно.

И ещё интересный момент, который я вытащил в описании новости, когда анонсировалось Safari Technology Preview 11, то, что они починила работу `<marquee>`. Если кто-то не помнит (и слава богу, кстати), `<marquee>` — это такой элемент, в который, если вы засунете текст, то он начнёт прокручиваться, как бегущая строка. Мы все, кто давно в вебе работает, баловались с этой штукой, и некоторые даже умели из неё классные вещи делать. А сейчас, в общем-то, мало кто её использует, потому что она не рекомендована в спецификациях, потому что это, как бы, оформительский элемент, но всё равно, ребята из Safari взяли и починили его. Там был момент, когда при каком-то атрибуте оно там дёргалось или вообще не запускалось, в общем-то, было плохо. И наши пользователи во Вконтакте, ну, наша типичная рубрика, спрашивают: «А нафига чинить всякое старьё?». Старьё нужно чинить, чтобы браузеры были совместимы друг с другом. Когда всякие новые крутые Api делаются, они делаются, наверное, сегодня лучше, чем когда-то делались старые, но мы не только новые Api используем, мы берём и используем старые базовые штуковины в вебе. Поэтому чинить такие вещи стоит.

И другие говорят, мол, нигде не используется `<marquee>`, но используется: если вы хоть раз покупали билеты на сайте РЖД, то [на главной странице](http://pass.rzd.ru/), когда вы открываете её, вы сразу же видите бегущую строку, которая и есть старый добрый `<marquee>`. Помните этот голос на вокзалах? _«В связи с участившимися случаями чего-то там, предприняты усиленные меры…»_ Вот это вот такая бегущая строка, каждый раз, когда я её вижу, я слышу этот голос.

**Ольга.** На самом деле мы сейчас вот на передовом крае разработки видим вот такой красивый современный веб, но существует огромная теневая сторона веба, например, японские сайты, вообще всякие азиатские сайты, где вёрстка… ну вы не представляете какая она! А она такая, какой она была лет 15 назад. И, на самом деле, тут речь даже не только о совместимости браузеров, это речь о доступности веба, о совместимости веба. Браузеры должны, просто обязаны, поддерживать какие-то старые вещи, потому что веб, зачастую, не обновляется. Вот когда вы последний раз заходили на сайт [Lib.Ru](http://lib.ru/), например? Он же как был 20 лет одинаковый, таким и остался. И таких сайтов тысячи. Так что это очень важно конечно поддерживать, даже запрещённые, и даже устаревшие вещи.

Я вот, кстати, вспомнила, что был ещё какой-то прекрасный тег, которым мы баловались, который мигал, `<blink>` по-моему, да?

**Вадим.** Да, элемент `<blink>` был, но его, по-моему, уже выпилили из браузеров, и я даже запустил смешной сайт [Take `<blink>` Back!](https://takeblinkback.com/), на котором с помощью `@keyframe`-анимации вернул `<blink>`. То есть, если вы подключите простой скрипт в ваш браузер… да какой скрипт, простой кусочек стилей, в ваши браузеры, то `<blink>` снова заработает.

## Интернет в отпуске (46:03)

**Ольга.** Мы вот сейчас оказались в такой ситуации, когда хотелось бы, чтобы сайты весили меньше и грузились быстрее. Потому, что у нас тут в Скалее домашний интернет — это LTE-модем выносной, который, причём, в сиесту не работает: то ли потому, что вышка перегревается, то ли потому, что перегревшиеся итальянцы лезут все одновременно в сеть. Короче, загрузить тут сайт в дневное время становится большой проблемой. Я, например, отключила у себя картинки и пытаюсь пользоваться сайтами без картинок. Знаете какая это боль?!

То есть реально: в Фейсбуке изчезают значимые кнопки — просто их нет, даже непонятно, где они были, во Вконтаче то же самое. То есть пользоваться интернетом становится невозможно. Это ведь по всему городу здесь так, и таких городков по Италии тысячи. И получается, что куча пользователей лишаются от того, что мы не делаем обратную совместимость для того, чтобы сайты работали без картинок или хотя бы грузились быстрее.

**Вадим.** Да, это интересная задача конечно: понять, что сделать с вашим сайтом, чтобы он загрузился нормально. И, наверное, я здесь могу порекомендовать каждому из вас сейчас, послушав этот выпуск, зайти на сайт, который вы разрабатываете и посмотреть, сколько килобайтов, мегабайтов, сколько десятков мегабайтов занимает его главная страница. То есть вы зайдёте, откроете сетевой инспектор без кэша и посмотрите: если у вас там цифра мегабайт и больше — вам нужно серьёзно подумать. Потому, что вот сейчас, в сиесту (это такой момент, когда супер-жарко и все просто лежат и максимум поедают арбузы дома), когда у нас не работает мобильный интернет (большой LTE-роутер, который торчит на балконе), мы открываем и пользуемся интернетом с наших телефонов. И там у нас по 5 ГБ, по 3 ГБ лимиты, а тут отпуск длинный и мы сидим и пытаемся понять как в эти 5 ГБ за 35 €, большие довольно деньги, уложить все наши потребности. Я пытаюсь отсюда работать, мы пытаемся отсюда подкаст записывать. То, что вы не оптимизировали ваш сайт, приводит к тому, что я просто не загружаю этот сайт.

Вы бы видели как раскорячивает клиент Slack десктопный, когда интернет отваливается посередине, всё очень плохо: я вижу огромные SVG-иконки чёрные во весь экран потому, что где-то там отвалились стили, не догрузившись. Мне сайты постоянно говорят… ничего не говорят! Я вижу сообщение в браузере «ваш сайт в офлайне», а если я открываю сайт какой-нибудь, где уже используются сервис-воркеры и офлайн, я вижу сообщение сайта «знаете, мы закэшировали для вас главную страницу». Или я вижу сообщение на Dev.Opera «извините, вы в офлайне».

Мы сейчас находимся в ситуации, когда все эти базворды: сервис-воркеры, апкэши, все эти быстрые сайты — это не просто мода, это не просто какие-то глупые слова, а это необходимость! Сходите и посмотрите, сколько ваш сайт весит.

**Ольга.** А шрифты? Вы представляете, что тут происходит, когда ваши кастомные шрифты просто не загрузились? Вот они не успели загрузиться, ну, там заголовок какой-нибудь доехал, а основной текст — нет. Всё. И ты сидишь такой и видишь пустую страницу, хотя ты хотел почитать сайт. Это ужасно!

**Вадим.** Ну да, я тут зашёл на Engadget какую-то новость прочитать про то, что батарейки стали в два раза больше. Ну, круто. И я жду минуту, вторую, третью и тут знаете, что случается? На белой странице, где видны подчёркивания, видны рамочки и так далее и не видно текста, загружается шрифт! Но загружается шрифт заголовка. Заголовка, который я уже знаю потому, что я видел тизер этой ссылки. Я не вижу шрифта основного текста, хотя шрифт заголовка занимает столько же. Оптимизируйте, чтобы у вас шрифт основной загружался, если уж вы используете эти дурацкие веб-шрифты.

Вы сейчас слышите ворчание двух перегретых ребят в отпуске, у которых нет нормального трафика. Но это мы здесь такие, мы скоро уедем к нормальному интернету, а люди которые живут здесь, они живут так постоянно и на основе этого они выбирают, какими сайтами они пользуются, а какими нет. И об этом точно стоит подумать.

**Лёша.** Я бы хотел в тему рассказать [шутку из Твиттера «мистер бл-бл-бл»](https://twitter.com/mister_blblbl/status/766371811042947072):

> — Ой, не фоткай меня, у меня стили не загрузились.
> — Да брось, ты красивая, у тебя вёрстка семантичная.

**Ольга.** (смеётся) Прекрасно!

**Вадим.** Это не «бл-бл-бл», это «ы-ы-ы».

**Лёша.** (придуривается) _Ой, ну ладно вам, как могу, так и читаю._

**Ольга.** (смеётся) Ладно, по-моему мы окончательно перегрелись и пора уже немножко заканчивать.

**Вадим.** Да. Ну что? С вами был 30-й выпуск подкаста «Веб-стандарты» и его постоянные ведущие Алексей Симоненко из HTML Academy, Ольга Алексашенко, верстальщик руками из Exante.

**Ольга.** И Вадим Макеев из Opera.

**Вадим.** Услышимся на следующей неделе. Я съезжу в Вильнюс, а потом вернусь в раскалённую Италию и там мы что-нибудь запишем с Лёшей на конференции Frontend Union. Так что до встречи, пока!

**Ольга.** Чао!

**Лёша.** Пока.
